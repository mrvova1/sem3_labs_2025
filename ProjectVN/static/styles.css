:root{
  --bg:#0b0f13;
  --panel:#0f1720;
  --muted:#98a0aa;
  --accent:#7c5cff;
  --card:#0b1117;
  --border:rgba(255,255,255,0.04);
}
*{box-sizing:border-box}
body,html,#app{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#e6eef8}
.app-root{display:grid;grid-template-columns:260px 1fr 320px;gap:12px;padding:12px;height:100vh}
.panel{background:linear-gradient(180deg,var(--panel),#071018);border-radius:12px;padding:12px;box-shadow:0 6px 20px rgba(0,0,0,0.6);border:1px solid var(--border);overflow:auto}
.panel.left{padding-bottom:16px}
.panel.right{padding-bottom:16px}
.panel-header{font-weight:700;font-size:18px;margin-bottom:8px}
.panel-section{margin-bottom:18px}
.assets-list,.scenes-list,.groups-list{display:flex;flex-wrap:wrap;gap:8px}
.assets-list .asset{width:60px;height:60px;border-radius:6px;overflow:hidden;background:#041018;border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center;cursor:pointer}
.assets-list img{width:100%;height:100%;object-fit:cover}
.btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:6px 8px;border-radius:8px;cursor:pointer}
.btn.primary{background:linear-gradient(90deg,var(--accent),#5ec1ff);color:#041018;border:none}
.btn.small{padding:4px 6px;font-size:13px}
.btn.danger{border-color:rgba(255,60,60,0.12);color:#ff8f8f}
.canvas-area{display:flex;flex-direction:column;gap:8px}
.toolbar{display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:rgba(255,255,255,0.02);border-radius:8px}
.stage{background:linear-gradient(180deg,#071018,#05121a);border-radius:10px;border:1px solid rgba(255,255,255,0.03);height:62vh;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}
.stage .placeholder{color:var(--muted)}
.bottom-panel{display:flex;gap:12px;margin-top:8px}
.dialogue-editor,.layers-panel{flex:1;background:rgba(255,255,255,0.01);padding:8px;border-radius:8px}
.layers-list{display:flex;flex-direction:column;gap:6px}
.layer-item{display:flex;align-items:center;gap:8px;padding:6px;border-radius:6px;background:rgba(255,255,255,0.01)}
.layer-item .mini{width:40px;height:40px;overflow:hidden;border-radius:4px}
.layer-item img{width:100%;height:100%;object-fit:cover}
.dialog-lines{display:flex;flex-direction:column;gap:6px}
.dialog-line{display:flex;gap:8px;align-items:flex-start;border-radius:6px;padding:6px;background:rgba(255,255,255,0.01)}
.dialog-line textarea{flex:1;background:transparent;border:none;color:inherit;resize:vertical;min-height:36px}
.prop-row{display:flex;flex-direction:column;gap:6px;margin-bottom:8px}
input[type=number],input[type=text],textarea{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:6px;border-radius:6px;color:inherit}
.small-muted{color:var(--muted);font-size:12px}

/* Draggable item styles */
.layer-item-button{background:transparent;border:none;color:var(--muted);cursor:pointer}

/* asset thumbnails inside stage */
.stage .placed-item{position:absolute;touch-action:none;user-select:none;transform-origin:center center;cursor:grab}
.stage .placed-item .handle{position:absolute;width:12px;height:12px;background:rgba(255,255,255,0.08);border-radius:3px;right:-6px;bottom:-6px}

/* responsive */
@media (max-width:1000px){.app-root{grid-template-columns:1fr;grid-template-rows:auto 1fr auto;padding:8px}.panel.left{order:3}.panel.right{order:4}.canvas-area{order:2}}